<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="style.css">
    <title>CSP Create Task</title>
</head>
<body>
    <p1>Hello</p1>
</body>
    <form id="myForm">
        <input type="file" id="csvFile" accept=".csv" />
        <br />
        <input type="submit" value="Submit" />
    </form>
    <script>
        const xhr = new XMLHttpRequest();
        xhr.open('GET', 'biostats.csv', false);
        xhr.send();
        let raw = xhr.responseText;
        let lines = raw.split(/(?:\r\n|\n)+/).filter(function(el) {return el.length != 0});
        let headers = lines.splice(0, 1)[0].split(",");
        let elements = [];
        for (let i = 0; i < lines.length; i++) {
            let element = {};
            let j = 0;
            while (matches = valuesRegExp.exec(lines[i])) {
                var value = matches[1] || matches[2];
                value = value.replace(/\"\"/g, "\"");

                element[headers[j]] = value;
                j++;
            }

            elements.push(element);
        }
        console.log(elements);
    </script>
</html>
